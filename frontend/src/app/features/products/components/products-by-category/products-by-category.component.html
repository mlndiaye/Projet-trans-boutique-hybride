<div class="container">
    <section class="d-flex">
        <ul class="categories-list list-unstyled border-end me-3 pt-4" style="flex-shrink: 0; width: auto; padding-right: 15px;">
            <li *ngFor="let c of categories">{{ c.name_category }}</li>
        </ul>
        <div id="carouselExampleCaptions" class="carousel slide text-white px-5" data-bs-ride="carousel" style="background-color: black; flex-grow: 1;">
            <div class="carousel-indicators">
                <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
                <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="1" aria-label="Slide 2"></button>
                <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="2" aria-label="Slide 3"></button>
            </div>
            <div class="carousel-inner w-75 pt-3">
                <div class="carousel-item active d-flex">
                    <div class="me-5" style="width: 60%;">
                        <p class="d-flex align-items-center">
                            <i class="fa-brands fa-apple fs-1 me-2"></i>
                            <span>Iphone 16 Series</span>
                        </p>                        
                        <h2 class="">
                            Jusqu'à 10% de réduction sur le bon d'achat
                        </h2>        
                        <a href="" class="btn text-white text-decoration-underline">Achetez maintenant <i class="fa-solid fa-arrow-right"></i></a>            
                    </div>
                    <img src="assets/img/iphone-15-op.webp" class="bg-dark shadow-inner" width="300" height="250" alt="...">
                </div>
                <div class="carousel-item d-flex">
                    <div class="me-5" style="width: 60%;">
                        <p class="d-flex align-items-center">
                            <i class="fa-brands fa-apple fs-1 me-2"></i>
                            <span>Iphone 16 Series</span>
                        </p>                        
                        <h2 class="">
                            Jusqu'à 10% de réduction sur le bon d'achat
                        </h2>        
                        <a href="" class="btn text-white text-decoration-underline">Achetez maintenant <i class="fa-solid fa-arrow-right"></i></a>            
                    </div>
                    <img src="assets/img/iphone-15-op.webp" class="bg-dark shadow-inner" width="300" height="250" alt="...">
                </div>
                <div class="carousel-item d-flex">
                    <div class="me-5" style="width: 60%;">
                        <p class="d-flex align-items-center">
                            <i class="fa-brands fa-apple fs-1 me-2"></i>
                            <span>Iphone 16 Series</span>
                        </p>                        
                        <h2 class="">
                            Jusqu'à 10% de réduction sur le bon d'achat
                        </h2>        
                        <a href="" class="btn text-white text-decoration-underline">Achetez maintenant <i class="fa-solid fa-arrow-right"></i></a>            
                    </div>
                    <img src="assets/img/iphone-15-op.webp" class="bg-dark shadow-inner" width="300" height="250" alt="...">
                </div>
            </div>    
        </div>
    </section>
    

    <section class="products-by-category mt-5">
        <div class="container">
            <div class="d-flex mb-3 ">
                <div class="red-div"></div> &nbsp;
                <span style="color: #db4444; font-weight: 500;">{{category?.name_category}}</span>
            </div>
            <ng-template #emptyCategoryBlock>
                <span>Pas de produits trouvés</span>
            </ng-template>
            <div *ngIf="products.length>0; else emptyCategoryBlock" class="container">
                <div class="row row-cols-2 row-cols-md-4 row-cols-lg-5 gap-3">
                    <div *ngFor="let p of products" class="card position-relative border px-0" style="width: 18rem;">
                        <!-- Discount label -->
                        <div class="discount-label position-absolute top-0 start-0 bg-danger text-white px-2 py-1" style="border-radius: 5px;">
                          -35%
                        </div>
                
                        <!-- Product image with cart button overlay -->
                        <div class="d-flex justify-content-center py-5 card-img position-relative">
                            <img
                            [src]="p.images.length ? p.images[0].src_img : 'assets/img/placeholder.jpg'"
                            class="card-img-top"
                            alt="{{ p.name_product }}"
                            style="width: 80%; max-width: 150px;">
                
                            <!-- Add to cart button -->
                            <div class="add-to-cart-btn text-center py-1 position-absolute w-100" style="background-color: black; opacity: 0; transition: opacity 0.3s; bottom: 0;">
                                <a class="btn text-decoration-none text-white" (click)="addToCart(p)">Ajouter au panier</a>
                            </div>
                        </div>
                
                        <!-- Action buttons -->
                        <div class="action-buttons position-absolute top-0 end-0 m-2 d-flex flex-column gap-2" style="opacity: 0; transition: opacity 0.3s;">
                            <button class="btn btn-light rounded-circle shadow-sm p-2" (click)="toggleWishlist(p)">
                                <i class="far fa-heart"></i>
                              </button>
                          <a [routerLink]="['produit', p.id_product]" class="btn btn-light rounded-circle shadow-sm p-2" (click)="getProductDetails(p.id_product)">
                            <i class="far fa-eye"></i>
                          </a>
                        </div>
                
                        <!-- Card body with product details -->
                        <div class="card-body pt-0 ">
                          <h5 class="card-title fs-6 fw-bold">{{ p.name_product }}</h5>
                          <p class="card-text mb-1">
                            <span class="current-price" style="color: #db4444;">{{ p.price_product | currency: 'XOF' }}</span>
                            &nbsp;
                            <span class="old-price text-decoration-line-through text-secondary">{{300 | currency: 'XOF'}}</span>
                          </p>
                          <div class="d-flex">
                            <div style="color: orange;">
                              <i class="fas fa-star"></i>
                              <i class="fas fa-star"></i>
                              <i class="fas fa-star"></i>
                              <i class="fas fa-star"></i>
                              <i class="fas fa-star"></i>
                            </div>
                            <sup class="text-secondary ms-2">(738)</sup>
                          </div>
                        </div>
                    </div>
                </div>
                <div class="text-center my-3"><a class="btn btn-danger ">Voir tous les produits</a></div>
            </div>
        </div>
    </section>

    <section class="container categories-cards my-5">
        <div class="d-flex">
            <div class="red-div"></div> &nbsp;
            <span style="color: #db4444; font-weight: 500;">Categories</span>
        </div>
        <div class="d-flex justify-content-between">
            <h3>Parcourir par catégorie</h3>
            <div>
                <button class="border-0 px-2 py-1 rounded-circle me-2 d-inline-block"><i class="fa-solid fa-arrow-left"></i></button>
                <button class="border-0 px-2 py-1 rounded-circle d-inline-block"><i class="fa-solid fa-arrow-right"></i></button>
            </div>
        </div>
        <div class="d-flex justify-content-between">
            <ng-container *ngFor="let c of categories">
                <a [routerLink]="['/', c.name_category]"  class="btn d-block px-5 py-2 border border-secondary rounded-1 bg-white">
                    <img [src]="c.img_category" [alt]="c.name_category">
                    <p class="mt-2">{{c.name_category}}</p>
                </a>
            </ng-container>
        </div>
    </section>

    <section class="containerour-services d-flex justify-content-between mb-5">
        <div class="">
            <div class="px-2 py-2  rounded-circle w-25 mx-auto" style="max-width: max-content; background-color: #c1c0c1;" >
                <div class=" rounded-circle p-1 bg-dark d-flex justify-content-center" style="max-width: max-content;">
                    <svg width="41" height="40" viewBox="0 0 41 40" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <g clip-path="url(#clip0_1051_1084)">
                        <path d="M12.1667 31.6667C14.0077 31.6667 15.5 30.1743 15.5 28.3333C15.5 26.4924 14.0077 25 12.1667 25C10.3258 25 8.83337 26.4924 8.83337 28.3333C8.83337 30.1743 10.3258 31.6667 12.1667 31.6667Z" stroke="#FAFAFA" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M28.8333 31.6667C30.6743 31.6667 32.1667 30.1743 32.1667 28.3333C32.1667 26.4924 30.6743 25 28.8333 25C26.9924 25 25.5 26.4924 25.5 28.3333C25.5 30.1743 26.9924 31.6667 28.8333 31.6667Z" stroke="#FAFAFA" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M8.83325 28.3335H7.49992C6.39535 28.3335 5.49992 27.4381 5.49992 26.3335V21.6668M3.83325 8.3335H20.1666C21.2712 8.3335 22.1666 9.22893 22.1666 10.3335V28.3335M15.4999 28.3335H25.4999M32.1666 28.3335H33.4999C34.6045 28.3335 35.4999 27.4381 35.4999 26.3335V18.3335M35.4999 18.3335H22.1666M35.4999 18.3335L31.0825 10.9712C30.7211 10.3688 30.0701 10.0002 29.3675 10.0002H22.1666" stroke="#FAFAFA" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M8.5 28H7.16667C6.0621 28 5.16667 27.1046 5.16667 26V21.3333M3.5 8H19.8333C20.9379 8 21.8333 8.89543 21.8333 10V28M15.5 28H25.1667M32.5 28H33.1667C34.2712 28 35.1667 27.1046 35.1667 26V18M35.1667 18H21.8333M35.1667 18L30.7493 10.6377C30.3878 10.0353 29.7368 9.66667 29.0343 9.66667H21.8333" stroke="#FAFAFA" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M5.5 11.8184H12.1667" stroke="#FAFAFA" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M2.31824 15.4546H8.9849" stroke="#FAFAFA" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M5.5 19.0908H12.1667" stroke="#FAFAFA" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </g>
                        <defs>
                        <clipPath id="clip0_1051_1084">
                        <rect width="40" height="40" fill="white" transform="translate(0.5)"/>
                        </clipPath>
                        </defs>
                    </svg>                        
                </div>
            </div>
            <h5 class="fs-6 fw-bold  text-center">LIVRAISON GRATUITE ET RAPIDE</h5>
            <p class=" text-center" style="font-size: small; font-weight: 400;">Livraison gratuite pour toute commande de plus de 140$</p>
        </div>

        <div class="">
            <div class="px-2 py-2  rounded-circle w-25 mx-auto" style="max-width: max-content; background-color: #c1c0c1;">
                <div class=" rounded-circle p-1 bg-dark d-flex justify-content-center" style="max-width: max-content;">
                    <svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <g clip-path="url(#clip0_1057_1101)">
                        <path d="M13.3334 24.9998C13.3334 23.1589 11.841 21.6665 10 21.6665C8.15907 21.6665 6.66669 23.1589 6.66669 24.9998V28.3332C6.66669 30.1741 8.15907 31.6665 10 31.6665C11.841 31.6665 13.3334 30.1741 13.3334 28.3332V24.9998Z" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M33.3334 24.9998C33.3334 23.1589 31.841 21.6665 30 21.6665C28.1591 21.6665 26.6667 23.1589 26.6667 24.9998V28.3332C26.6667 30.1741 28.1591 31.6665 30 31.6665C31.841 31.6665 33.3334 30.1741 33.3334 28.3332V24.9998Z" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M6.66669 24.9998V19.9998C6.66669 16.4636 8.07145 13.0722 10.5719 10.5717C13.0724 8.07126 16.4638 6.6665 20 6.6665C23.5362 6.6665 26.9276 8.07126 29.4281 10.5717C31.9286 13.0722 33.3334 16.4636 33.3334 19.9998V24.9998" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M30 31.6665C30 32.9926 28.9464 34.2644 27.0711 35.202C25.1957 36.1397 22.6522 36.6665 20 36.6665" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </g>
                        <defs>
                        <clipPath id="clip0_1057_1101">
                        <rect width="40" height="40" fill="white"/>
                        </clipPath>
                        </defs>
                    </svg>                                            
                </div>
            </div>
            <h5 class="fs-6 fw-bold  text-center">SERVICE CLIENT 24h/24 et 7j/7</h5>
            <p class=" text-center" style="font-size: small; font-weight: 400;">Support client convivial 24h/24 et 7j/7</p>
        </div>

        <div class="">
            <div class="px-2 py-2  rounded-circle w-25 mx-auto" style="max-width: max-content; background-color: #c1c0c1;">
                <div class=" rounded-circle p-1 bg-dark d-flex justify-content-center" style="max-width: max-content;">
                    <svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M8.09912 30.5992L8.09889 30.5991C7.22616 29.9483 6.42555 28.9206 5.84276 27.759C5.25992 26.5973 4.91669 25.3451 4.91669 24.2666V11.8666C4.91669 9.50736 6.67152 6.96177 8.89119 6.13513L8.89215 6.13477L17.2084 3.01826C17.2085 3.01823 17.2086 3.0182 17.2086 3.01817C17.9621 2.73661 18.9616 2.5874 19.9834 2.5874C21.0051 2.5874 22.0046 2.73661 22.7581 3.01817C22.7581 3.0182 22.7582 3.01823 22.7583 3.01826L31.0746 6.13477L31.0755 6.13513C33.2952 6.96177 35.05 9.50736 35.05 11.8666V24.2499C35.05 25.3371 34.7066 26.5892 34.1241 27.7483C33.5416 28.9073 32.7411 29.9313 31.8678 30.5824L31.8676 30.5826L24.7009 35.9326L24.7009 35.9325L24.6947 35.9373C23.412 36.9264 21.724 37.4332 20 37.4332C18.2774 37.4332 16.5852 36.927 15.2649 35.9486C15.2647 35.9484 15.2646 35.9483 15.2644 35.9482L8.09912 30.5992ZM17.7419 4.43145L17.7412 4.4317L9.42456 7.54837L9.42386 7.54863C8.59627 7.86019 7.85504 8.52248 7.32412 9.29061C6.79303 10.059 6.43335 10.9898 6.43335 11.8832V24.2666C6.43335 25.161 6.74394 26.1892 7.20094 27.101C7.65782 28.0126 8.29331 28.8722 9.00087 29.4005L9.00092 29.4006L16.1672 34.7503C17.2292 35.5445 18.6283 35.9249 20.0021 35.9249C21.3761 35.9249 22.7783 35.5445 23.8478 34.7516L23.8491 34.7506L31.0158 29.4006L31.0167 29.3999C31.7314 28.8638 32.3669 28.005 32.8222 27.0943C33.2776 26.1837 33.5834 25.16 33.5834 24.2666V11.8666C33.5834 10.9804 33.2229 10.0538 32.6926 9.28645C32.1621 8.51889 31.4223 7.85396 30.5976 7.5338L30.5977 7.53376L30.5921 7.5317L22.2755 4.41503L22.2755 4.41495L22.2664 4.41174C21.6283 4.18651 20.8002 4.08314 20.0007 4.08532C19.2021 4.0875 18.3752 4.19514 17.7419 4.43145Z" fill="#FAFAFA" stroke="#FAFAFA"/>
                        <path d="M17.4131 21.0536L17.7667 21.4071L18.1202 21.0536L24.4036 14.7703C24.6916 14.4822 25.1751 14.4822 25.4631 14.7703C25.7512 15.0583 25.7512 15.5417 25.4631 15.8298L18.2965 22.9965C18.1452 23.1478 17.9579 23.2167 17.7667 23.2167C17.5755 23.2167 17.3882 23.1478 17.2369 22.9965L14.5536 20.3131C14.2655 20.0251 14.2655 19.5417 14.5536 19.2536C14.8416 18.9655 15.3251 18.9655 15.6131 19.2536L17.4131 21.0536Z" fill="#FAFAFA" stroke="#FAFAFA"/>
                    </svg>                                               
                </div>
            </div>
            <h5 class="fs-6 fw-bold  text-center">GARANTIE DE REMBOURSEMENT</h5>
            <p class=" text-center" style="font-size: small; font-weight: 400;">Nous remboursons l'argent dans les 30 jours</p>
        </div>
    </section>
</div>